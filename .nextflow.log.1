Jun-24 05:07:38.822 [main] DEBUG nextflow.cli.Launcher - $> nextflow run poppunk_subsample_snp.nf
Jun-24 05:07:38.918 [main] DEBUG nextflow.cli.CmdRun - N E X T F L O W  ~  version 25.04.4
Jun-24 05:07:38.943 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/peerah/.nextflow/plugins; core-plugins: nf-amazon@2.15.0,nf-azure@1.16.0,nf-cloudcache@0.4.3,nf-codecommit@0.2.3,nf-console@1.2.1,nf-google@1.21.0,nf-k8s@1.0.0,nf-tower@1.11.3,nf-wave@1.12.1
Jun-24 05:07:38.967 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Jun-24 05:07:38.968 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Jun-24 05:07:38.971 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.12.0 in 'deployment' mode
Jun-24 05:07:38.984 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Jun-24 05:07:39.008 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /home/peerah/localpoppunk/nextflow.config
Jun-24 05:07:39.037 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/peerah/localpoppunk/nextflow.config
Jun-24 05:07:39.078 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /home/peerah/.nextflow/secrets/store.json
Jun-24 05:07:39.082 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@3a60c416] - activable => nextflow.secret.LocalSecretsProvider@3a60c416
Jun-24 05:07:39.089 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Jun-24 05:07:39.654 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 from script declaration
Jun-24 05:07:39.674 [main] DEBUG nextflow.cli.CmdRun - Launching `poppunk_subsample_snp.nf` [hopeful_cori] DSL2 - revision: 552d07e7c6
Jun-24 05:07:39.677 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Jun-24 05:07:39.677 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Jun-24 05:07:39.737 [main] DEBUG nextflow.Session - Session UUID: fefc7dc4-4330-4bbc-b63e-cd21c69bba73
Jun-24 05:07:39.737 [main] DEBUG nextflow.Session - Run name: hopeful_cori
Jun-24 05:07:39.738 [main] DEBUG nextflow.Session - Executor pool size: 64
Jun-24 05:07:39.749 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Jun-24 05:07:39.756 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=192; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Jun-24 05:07:39.778 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 25.04.4 build 5950
  Created: 16-06-2025 14:23 UTC 
  System: Linux 6.1.0-37-cloud-amd64
  Runtime: Groovy 4.0.26 on OpenJDK 64-Bit Server VM 17.0.10+7
  Encoding: UTF-8 (UTF-8)
  Process: 32081@instance-20250623-122625 [10.128.0.26]
  CPUs: 64 - Mem: 409.2 GB (402.4 GB) - Swap: 0 (0)
Jun-24 05:07:39.807 [main] DEBUG nextflow.Session - Work-dir: /home/peerah/localpoppunk/work [ext2/ext3]
Jun-24 05:07:39.808 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /home/peerah/localpoppunk/bin
Jun-24 05:07:39.819 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Jun-24 05:07:39.830 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Jun-24 05:07:39.862 [main] DEBUG nextflow.Session - Observer factory (v2): LinObserverFactory
Jun-24 05:07:39.895 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Jun-24 05:07:39.906 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 65; maxThreads: 1000
Jun-24 05:07:39.981 [main] DEBUG nextflow.Session - Session start
Jun-24 05:07:40.660 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Jun-24 05:07:40.672 [main] INFO  nextflow.script.BaseScript - ▶ FASTA input directory:  /home/peerah/contextual
Jun-24 05:07:40.673 [main] INFO  nextflow.script.BaseScript - ▶ Results directory:      /home/peerah/contextual/results
Jun-24 05:07:40.674 [main] INFO  nextflow.script.BaseScript - ▶ Threads / RAM:          4  /  4 GB
Jun-24 05:07:40.862 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jun-24 05:07:40.863 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jun-24 05:07:40.870 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Jun-24 05:07:40.878 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=64; memory=409.2 GB; capacity=64; pollInterval=100ms; dumpInterval=5m
Jun-24 05:07:40.881 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Jun-24 05:07:40.911 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'VALIDATE_FASTA': maxForks=0; fair=false; array=0
Jun-24 05:07:40.997 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jun-24 05:07:40.997 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jun-24 05:07:40.999 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'MASH_SKETCH': maxForks=0; fair=false; array=0
Jun-24 05:07:41.006 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jun-24 05:07:41.006 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jun-24 05:07:41.007 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'MASH_DIST': maxForks=0; fair=false; array=0
Jun-24 05:07:41.014 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jun-24 05:07:41.014 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jun-24 05:07:41.016 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'BIN_SUBSAMPLE': maxForks=0; fair=false; array=0
Jun-24 05:07:41.023 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jun-24 05:07:41.024 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jun-24 05:07:41.025 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'POPPUNK_MODEL': maxForks=0; fair=false; array=0
Jun-24 05:07:41.037 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jun-24 05:07:41.037 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jun-24 05:07:41.039 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'POPPUNK_ASSIGN': maxForks=0; fair=false; array=0
Jun-24 05:07:41.046 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jun-24 05:07:41.047 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jun-24 05:07:41.049 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'SUMMARY_REPORT': maxForks=0; fair=false; array=0
Jun-24 05:07:41.057 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: MASH_DIST, MASH_SKETCH, SUMMARY_REPORT, POPPUNK_MODEL, BIN_SUBSAMPLE, POPPUNK_ASSIGN, VALIDATE_FASTA
Jun-24 05:07:41.060 [main] DEBUG nextflow.Session - Igniting dataflow network (8)
Jun-24 05:07:41.068 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > VALIDATE_FASTA
Jun-24 05:07:41.069 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > MASH_SKETCH
Jun-24 05:07:41.070 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > MASH_DIST
Jun-24 05:07:41.071 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > BIN_SUBSAMPLE
Jun-24 05:07:41.072 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > POPPUNK_MODEL
Jun-24 05:07:41.072 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: /home/peerah/contextual/; pattern: *.fasta; options: [checkIfExists:true]
Jun-24 05:07:41.073 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > POPPUNK_ASSIGN
Jun-24 05:07:41.074 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > SUMMARY_REPORT
Jun-24 05:07:41.075 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_612b5539999f87bf: /home/peerah/localpoppunk/poppunk_subsample_snp.nf
Jun-24 05:07:41.075 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Jun-24 05:07:41.076 [main] DEBUG nextflow.Session - Session await
Jun-24 05:07:41.397 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Jun-24 05:07:41.400 [Task submitter] INFO  nextflow.Session - [ee/116778] Submitted process > VALIDATE_FASTA (validate_fasta)
Jun-24 05:07:42.088 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: VALIDATE_FASTA (validate_fasta); status: COMPLETED; exit: 127; error: -; workDir: /home/peerah/localpoppunk/work/ee/116778ad61054578954175ed76a9f4]
Jun-24 05:07:42.088 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'TaskFinalizer' minSize=10; maxSize=192; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Jun-24 05:07:42.098 [TaskFinalizer-1] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=VALIDATE_FASTA (validate_fasta); work-dir=/home/peerah/localpoppunk/work/ee/116778ad61054578954175ed76a9f4
  error [nextflow.exception.ProcessFailedException]: Process `VALIDATE_FASTA (validate_fasta)` terminated with an error exit status (127)
Jun-24 05:07:42.118 [TaskFinalizer-1] ERROR nextflow.processor.TaskProcessor - Error executing process > 'VALIDATE_FASTA (validate_fasta)'

Caused by:
  Process `VALIDATE_FASTA (validate_fasta)` terminated with an error exit status (127)


Command executed:

  python - << 'PY'
  import os
  from pathlib import Path
  
  valid_files = []
  invalid_files = []
  total_files = 0
  
  # Process each FASTA file
  fasta_files = 'IP-0050-5_S10_L001-SPAdes.fasta IP-0100-8_S1_L001-SPAdes.fasta Burkholderia_pseudomallei_44W_S64_GCF_014713025.1_Laos.fasta IP-0201-4_S6-SPAdes.fasta GCA_963565015.1.fasta GCA_963571005.1.fasta IP-0095-0_S7_L001-SPAdes.fasta IP-0162-8_S1-SPAdes.fasta IP-0160-2_S10_L001-SPAdes.fasta IP-0033-1_S3_L001-SPAdes.fasta ERS013360.fasta IP-0193-3_S8-SPAdes.fasta GCA_963570105.1.fasta IP-0070-3_S4_L001-SPAdes.fasta IE-0022_S8-SPAdes.fasta IP-0031-5_S1_L001-SPAdes.fasta IP-0199-0_S4-SPAdes.fasta GCA_963562655.1.fasta ERS012377.fasta IP-0131-3_S1_L001-SPAdes.fasta GCA_963563525.1.fasta GCA_963568785.1.fasta ERS008838.fasta IP-0146-1_S6_L001-SPAdes.fasta IP-0107-3_S7_L001-SPAdes.fasta ERS008828.fasta IE-0017_S11_L001-SPAdes.fasta ERS012316.fasta ERS012332.fasta IP-0161-0_S11_L001-SPAdes.fasta IP-0182-6_S7-SPAdes.fasta IP-0168-5_S3-SPAdes.fasta GCA_963563635.1.fasta Burkholderia_pseudomallei_134K_GCF_009830075.1_Thailand.fasta GCA_963563715.1.fasta Burkholderia_pseudomallei_2002721684_GCF_002110925.1_USA_Texas.fasta ERS008824.fasta Burkholderia_pseudomallei_406e_GCF_000410895.1_Thailand.fasta ERS008821.fasta GCA_963561075.1.fasta GCA_963561355.1.fasta IP-0011-7_S2_L001-SPAdes.fasta GCA_963563155.1.fasta IP-0060-4_S5_L001-SPAdes.fasta ERS012363.fasta IP-0061-2_S6_L001-SPAdes.fasta GCA_963560915.1.fasta IP-0167-7_S2-SPAdes.fasta ERS013342.fasta ERS008835.fasta GCA_963572755.1.fasta IP-0076-0_S10_L001-SPAdes.fasta GCA_963566085.1.fasta IP-0108-1_S8_L001-SPAdes.fasta IP-0057-0_S2_L001-SPAdes.fasta IP-0113-1_S4_L001-SPAdes.fasta GCA_963565675.1.fasta IP-0017-4_S8_L001-SPAdes.fasta ERS012314.fasta IE-0003_S8_L001-SPAdes.fasta IP-0180-0_S5-SPAdes.fasta GCA_963565395.1.fasta GCA_963572995.1.fasta Burkholderia_pseudomallei_47W_S67_GCF_014712955.1_Laos.fasta IP-0144-6_S4_L001-SPAdes.fasta GCA_963568705.1.fasta GCA_963565485.1.fasta IE-0026_S8-SPAdes.fasta GCA_963564975.1.fasta IP-0049-7_S9_L001-SPAdes.fasta IP-0170-1_S5-SPAdes.fasta IP-0081-0_S4_L001-SPAdes.fasta ERS012303.fasta Burkholderia_pseudomallei_45S_S65_GCF_014713015.1_Laos.fasta Burkholderia_pseudomallei_2002734728_GCF_002111105.1_USA_California.fasta IE-0016_S10_L001-SPAdes.fasta IP-0055-4_S5_L001-SPAdes.fasta GCA_963567325.1.fasta IP-0043-0_S3_L001-SPAdes.fasta GCA_963571845.1.fasta IP-0051-3_S1_L001-SPAdes.fasta GCA_963571905.1.fasta IP-0101-6_S1_L001-SPAdes.fasta IP-0098-4_S10_L001-SPAdes.fasta IP-0111-5_S2_L001-SPAdes.fasta IP-0001-8_S1_L001-SPAdes.fasta Burkholderia_pseudomallei_619s007_GCF_001326935.2_Malaysia.fasta IP-0189-1_S4-SPAdes.fasta ERS012312.fasta ERS008837.fasta GCA_963560675.1.fasta IP-0019-0_S10_L001-SPAdes.fasta GCA_963573225.1.fasta IP-0028-1_S8_L001-SPAdes.fasta Burkholderia_pseudomallei_4811_GCF_003268075.1_Viet_Nam.fasta ERS008816.fasta IP-0127-1_S7_L001-SPAdes.fasta ERS008786.fasta IP-0187-5_S2-SPAdes.fasta IP-0188-3_S3-SPAdes.fasta IP-0174-3_S9-SPAdes.fasta ERS008825.fasta IP-0112-3_S3_L001-SPAdes.fasta ERS012331.fasta GCA_963562695.1.fasta Burkholderia_pseudomallei_7801_GCF_025848015.1_Viet_Nam.fasta ERS008809.fasta IP-0069-5_S3_L001-SPAdes.fasta ERS008820.fasta GCA_963571975.1.fasta IP-0077-8_S11_L001-SPAdes.fasta Burkholderia_pseudomallei_576_GCF_000182195.1_Thailand.fasta IP-0109-9_S9_L001-SPAdes.fasta GCA_963560735.1.fasta IP-0039-8_S9_L001-SPAdes.fasta Burkholderia_pseudomallei_316c_GCF_001980755.1_Thailand.fasta ERS012317.fasta Burkholderia_pseudomallei_577ci_GCF_001980815.1_Thailand.fasta ERS008785.fasta IP-0096-8_S8_L001-SPAdes.fasta IP-0165-1_S4-SPAdes.fasta GCA_963567935.1.fasta ERS012351.fasta GCA_963570975.1.fasta ERS013364.fasta IP-0083-6_S6_L001-SPAdes.fasta IP-0183-4_S8-SPAdes.fasta IP-0164-4_S3-SPAdes.fasta IP-0190-9_S5-SPAdes.fasta ERS012359.fasta IP-0045-5_S5_L001-SPAdes.fasta GCA_963565125.1.fasta Burkholderia_pseudomallei_ABCPW_30_GCF_000774495.1_Australia.fasta ERS008813.fasta Burkholderia_pseudomallei_402a_GCF_001980775.1_Thailand.fasta ERS008784.fasta IP-0110-7_S10_L001-SPAdes.fasta IE-0010_S4_L001-SPAdes.fasta Burkholderia_pseudomallei_ABCPW_91_GCF_000774405.1_Australia.fasta GCA_963566455.1.fasta ERS012340.fasta ERS012376.fasta IP-0115-6_S6_L001-SPAdes.fasta IP-0036-4_S6_L001-SPAdes.fasta GCA_963564305.1.fasta GCA_963568055.1.fasta ERS012334.fasta IP-0191-7_S6-SPAdes.fasta ERS012356.fasta IP-0147-9_S7_L001-SPAdes.fasta ERS012380.fasta IP-0150-3_S10_L001-SPAdes.fasta Burkholderia_pseudomallei_619s006_GCF_001212705.2_Malaysia.fasta IP-0114-9_S5_L001-SPAdes.fasta GCA_963562965.1.fasta IP-0151-1_S1_L001-SPAdes.fasta IP-0141-2_S1_L001-SPAdes.fasta IE-0015_S9_L001-SPAdes.fasta Burkholderia_pseudomallei_7400_GCF_025848135.1_Viet_Nam.fasta ERS008841.fasta GCA_963561565.1.fasta IP-0007-5_S7_L001-SPAdes.fasta Burkholderia_pseudomallei_60W_S74_GCF_014712825.1_Laos.fasta IP-0117-2_S8_L001-SPAdes.fasta GCA_963566695.1.fasta Burkholderia_pseudomallei_619s005_GCF_001207785.2_Malaysia.fasta IP-0065-3_S10_L001-SPAdes.fasta Burkholderia_pseudomallei_50W_S69_GCF_014712935.1_Laos.fasta ERS012338.fasta ERS008836.fasta ERS013346.fasta GCA_963564785.1.fasta Burkholderia_pseudomallei_134_GCF_009830095.1_Thailand.fasta IP-0148-7_S8_L001-SPAdes.fasta IP-0089-3_S1_L001-SPAdes.fasta IP-0126-3_S6_L001-SPAdes.fasta GCA_963570085.1.fasta IP-0173-5_S8-SPAdes.fasta GCA_963566765.1.fasta GCA_963562325.1.fasta GCA_963573095.1.fasta Burkholderia_pseudomallei_43S_S63_GCF_014713085.1_Laos.fasta IP-0125-5_S5_L001-SPAdes.fasta IE-0013_S7_L001-SPAdes.fasta IP-0099-2_S11_L001-SPAdes.fasta IP-0004-2_S4_L001-SPAdes.fasta GCA_963571055.1.fasta Burkholderia_pseudomallei_4822_GCF_009826725.1_Viet_Nam.fasta IP-0184-2_S9-SPAdes.fasta GCA_963565085.1.fasta GCA_900597175.2.fasta IP-0054-7_S4_L001-SPAdes.fasta IP-0197-4_S2-SPAdes.fasta ERS013353.fasta IP-0105-7_S5_L001-SPAdes.fasta IP-0005-9_S5_L001-SPAdes.fasta ERS008792.fasta GCA_963561855.1.fasta Burkholderia_pseudomallei_354a_GCF_000259815.1_Thailand.fasta IP-0056-2_S1_L001-SPAdes.fasta Burkholderia_pseudomallei_ABCPW_1_GCF_000774965.1_Australia.fasta IP-0072-9_S6_L001-SPAdes.fasta ERS013345.fasta IP-0202-2_S7-SPAdes.fasta GCA_963567115.1.fasta Burkholderia_pseudomallei_40S_S61_GCF_014713055.1_Laos.fasta IP-0002-6_S2_L001-SPAdes.fasta Burkholderia_pseudomallei_91W_S76_GCF_014712775.1_Laos.fasta IP-0156-0_S6_L001-SPAdes.fasta IP-0142-0_S2_L001-SPAdes.fasta GCA_963561925.1.fasta IP-0091-9_S3_L001-SPAdes.fasta IE-0021_S7-SPAdes.fasta GCA_963560945.1.fasta IP-0010-9_S10_L001-SPAdes.fasta IP-0009-1_S9_L001-SPAdes.fasta GCA_963571365.1.fasta ERS012308.fasta IP-0124-8_S4_L001-SPAdes.fasta IP-0169-3_S4-SPAdes.fasta ERS012370.fasta GCA_963570575.1.fasta IP-0090-1_S2_L001-SPAdes.fasta Burkholderia_pseudomallei_51W_S70_GCF_014712915.1_Laos.fasta Burkholderia_pseudomallei_46W_S66_GCF_014712945.1_Laos.fasta IP-0084-4_S7_L001-SPAdes.fasta GCA_963565565.1.fasta IP-0171-9-R_S12-SPAdes.fasta ERS008798.fasta IP-0066-1_S11_L001-SPAdes.fasta ERS013352.fasta IP-0128-9_S8_L001-SPAdes.fasta IP-0038-0_S8_L001-SPAdes.fasta GCA_963564325.1.fasta IP-0132-1_S2_L001-SPAdes.fasta IP-0012-5_S3_L001-SPAdes.fasta IP-0158-6_S8_L001-SPAdes.fasta IP-0024-0_S4_L001-SPAdes.fasta IP-0175-0_S10-SPAdes.fasta GCA_963568885.1.fasta GCA_963569685.1.fasta IE-0004_S9_L001-SPAdes.fasta IP-0163-6_S2-SPAdes.fasta GCA_963564375.1.fasta IP-0030-7_S10_L001-SPAdes.fasta GCA_963563475.1.fasta IP-0068-7_S2_L001-SPAdes.fasta IP-0102-4_S2_L001-SPAdes.fasta IP-0185-9_S10-SPAdes.fasta GCA_963562795.1.fasta IP-0088-5_S11_L001-SPAdes.fasta IP-0152-9_S2_L001-SPAdes.fasta IP-0071-1_S5_L001-SPAdes.fasta SRR12527871_contigs.fasta IP-0092-7_S4_L001-SPAdes.fasta IP-0196-6_S1-SPAdes.fasta ERS012324.fasta IP-0020-8_S11_L001-SPAdes.fasta IP-0013-3_S4_L001-SPAdes.fasta IP-0040-6_S10_L001-SPAdes.fasta Burkholderia_pseudomallei_354e_GCF_000259795.1_Thailand.fasta IP-0058-8_S3_L001-SPAdes.fasta IP-0122-2_S2_L001-SPAdes.fasta GCA_963569365.1.fasta IP-0037-2_S7_L001-SPAdes.fasta IP-0116-4_S7_L001-SPAdes.fasta IP-0138-8_S8_L001-SPAdes.fasta ERS012369.fasta ERS012354.fasta Burkholderia_pseudomallei_BDD_GCF_000756905.1_Australia_Townsville_Queensland.fasta Burkholderia_pseudomallei_64W_S75_GCF_014712815.1_Laos.fasta IP-0135-4_S5_L001-SPAdes.fasta ERS012328.fasta IP-0123-0_S3_L001-SPAdes.fasta GCA_963561975.1.fasta IP-0155-2_S5_L001-SPAdes.fasta IP-0021-6_S1_L001-SPAdes.fasta ERS008819.fasta IP-0023-2_S3_L001-SPAdes.fasta Burkholderia_pseudomallei_53W_S72_GCF_014712895.1_Laos.fasta IE-0001_S6_L001-SPAdes.fasta IP-0121-4_S1_L001-SPAdes.fasta IP-0053-9_S3_L001-SPAdes.fasta IP-0137-0_S7_L001-SPAdes.fasta IP-0103-2_S3_L001-SPAdes.fasta ERS012320.fasta GCA_963573175.1.fasta IP-0159-4_S9_L001-SPAdes.fasta ERS013365.fasta GCA_900595585.2.fasta IP-0130-5_S10_L001-SPAdes.fasta ERS008844.fasta IP-0157-8_S7_L001-SPAdes.fasta ERS008829.fasta IP-0086-9_S9_L001-SPAdes.fasta IP-0041-4_S1_L001-SPAdes.fasta GCA_963561765.1.fasta IP-0022-4_S2_L001-SPAdes.fasta IP-0186-7_S1-SPAdes.fasta IP-0035-6_S5_L001-SPAdes.fasta ERS008803.fasta IE-0024_S10-SPAdes.fasta IP-0106-5_S6_L001-SPAdes.fasta GCA_963570025.1.fasta IP-0059-6_S4_L001-SPAdes.fasta Burkholderia_pseudomallei_619s004_GCF_001212405.2_Malaysia.fasta IP-0046-3_S6_L001-SPAdes.fasta Burkholderia_pseudomallei_ABCPW_107_GCF_000773235.1_Australia.fasta IP-0016-6_S7_L001-SPAdes.fasta IP-0200-6_S5-SPAdes.fasta GCA_963566625.1.fasta IE-0007_S1_L001-SPAdes.fasta GCA_963568005.1.fasta GCA_963573135.1.fasta IP-0047-1_S7_L001-SPAdes.fasta GCA_963569785.1.fasta IP-0118-0_S9_L001-SPAdes.fasta Burkholderia_pseudomallei_49W_S68_GCF_014712965.1_Laos.fasta IP-0078-6_S1_L001-SPAdes.fasta GCA_963563305.1.fasta ERS008790.fasta GCA_963569705.1.fasta Burkholderia_pseudomallei_4802_GCF_003268115.1_Viet_Nam.fasta IP-0042-2_S2_L001-SPAdes.fasta ERS012347.fasta ERS008830.fasta Burkholderia_pseudomallei_284_GCF_025847905.1_Viet_Nam.fasta IP-0153-7_S3_L001-SPAdes.fasta IP-0154-5_S4_L001-SPAdes.fasta IP-0104-0_S4_L001-SPAdes.fasta GCA_963561735.1.fasta ERS013355.fasta IP-0129-7_S9_L001-SPAdes.fasta GCA_963563065.1.fasta ERS008817.fasta ERS008822.fasta ERS008795.fasta IP-0134-7_S4_L001-SPAdes.fasta GCA_900598305.2.fasta ERS012362.fasta ERS012309.fasta IP-0008-3_S8_L001-SPAdes.fasta ERS013358.fasta IP-0176-8_S1-SPAdes.fasta IP-0026-5_S6_L001-SPAdes.fasta GCA_963566475.1.fasta IP-0139-6_S9_L001-SPAdes.fasta GCA_963572615.1.fasta IP-0177-6_S2-SPAdes.fasta GCA_963566855.1.fasta IE-0005_S10_L001-SPAdes.fasta GCA_963562235.1.fasta ERS012365.fasta IP-0119-8_S10_L001-SPAdes.fasta IP-0064-6_S9_L001-SPAdes.fasta GCA_963566635.1.fasta IP-0018-2_S9_L001-SPAdes.fasta IP-0143-8_S3_L001-SPAdes.fasta IP-0087-7_S10_L001-SPAdes.fasta Burkholderia_pseudomallei_619s008_GCF_001326955.2_Malaysia.fasta GCA_963561895.1.fasta SRR12527885_contigs.fasta IP-0120-6_S11_L001-SPAdes.fasta IP-0015-8_S6_L001-SPAdes.fasta IP-0067-9_S1_L001-SPAdes.fasta GCA_963569325.1.fasta IP-0062-0_S7_L001-SPAdes.fasta Burkholderia_pseudomallei_1701_GCF_003268105.1_Viet_Nam.fasta IP-0052-1_S2_L001-SPAdes.fasta ERS013343.fasta GCA_963566175.1.fasta GCA_963561245.1.fasta ERS008797.fasta IP-0048-9_S8_L001-SPAdes.fasta IP-0085-1_S8_L001-SPAdes.fasta IP-0003-4_S3_L001-SPAdes.fasta GCA_963562615.1.fasta IE-0006_S11_L001-SPAdes.fasta IP-0082-8_S5_L001-SPAdes.fasta IP-0025-7_S5_L001-SPAdes.fasta IP-0172-7_S7-SPAdes.fasta ERS013354.fasta IP-0014-1_S5_L001-SPAdes.fasta GCA_963571495.1.fasta GCA_963561215.1.fasta IE-0011_S5_L001-SPAdes.fasta IP-0073-7_S7_L001-SPAdes.fasta ERS008794.fasta IP-0006-7_S6_L001-SPAdes.fasta IP-0034-9_S4_L001-SPAdes.fasta ERS008833.fasta IP-0178-4_S3-SPAdes.fasta GCA_963560585.1.fasta GCA_963571745.1.fasta Burkholderia_pseudomallei_2011756296_GCF_002110985.1_USA_Puerto_Rico.fasta ERS008781.fasta GCA_963569795.1.fasta ERS013363.fasta IP-0179-2_S4-SPAdes.fasta ERS012307.fasta GCA_963566495.1.fasta IP-0133-9_S3_L001-SPAdes.fasta IP-0195-8_S10-SPAdes.fasta ERS013348.fasta Burkholderia_pseudomallei_52W_S71_GCF_014712835.1_Laos.fasta Burkholderia_pseudomallei_4702_GCF_009827035.1_Viet_Nam.fasta ERS012306.fasta IP-0063-8_S8_L001-SPAdes.fasta GCA_963561835.1.fasta IP-0044-8_S4_L001-SPAdes.fasta IP-0094-3_S6_L001-SPAdes.fasta Burkholderia_pseudomallei_43W_S62_GCF_014713065.1_Laos.fasta GCA_963569645.1.fasta IP-0080-2_S3_L001-SPAdes.fasta IP-0192-5_S7-SPAdes.fasta GCA_963566675.1.fasta IE-0018_S12_L001-SPAdes.fasta ERS012330.fasta IP-0097-6_S9_L001-SPAdes.fasta IP-0093-5_S5_L001-SPAdes.fasta Burkholderia_pseudomallei_58W_S73_GCF_014712875.1_Laos.fasta GCA_963573025.1.fasta IP-0136-2_S6_L001-SPAdes.fasta IP-0145-3_S5_L001-SPAdes.fasta IP-0079-4_S2_L001-SPAdes.fasta IP-0140-4_S10_L001-SPAdes.fasta ERS008804.fasta IP-0027-3_S7_L001-SPAdes.fasta Burkholderia_pseudomallei_28P_GCF_025847415.1_Viet_Nam.fasta GCA_963561435.1.fasta IE-0012_S6_L001-SPAdes.fasta ERS012313.fasta GCA_963565345.1.fasta GCA_963561915.1.fasta GCA_900596305.2.fasta IP-0029-9_S9_L001-SPAdes.fasta GCA_963571475.1.fasta IP-0032-3_S2_L001-SPAdes.fasta Burkholderia_pseudomallei_8400_GCF_025847635.1_Viet_Nam.fasta ERS012358.fasta IE-0014_S8_L001-SPAdes.fasta IP-0181-8_S6-SPAdes.fasta IP-0166-9_S1-SPAdes.fasta IE-0009_S3_L001-SPAdes.fasta IP-0075-2_S9_L001-SPAdes.fasta Burkholderia_pseudomallei_316a_GCF_001980725.1_Thailand.fasta ERS012327.fasta IE-0019_S5-SPAdes.fasta Burkholderia_pseudomallei_2010007509_GCF_002111145.1_USA_Arizona_ex_Costa_Rica.fasta IP-0149-5_S9_L001-SPAdes.fasta'.split()
  for fasta_file in fasta_files:
      total_files += 1
      file_path = Path(fasta_file)
      
      # Get the absolute path for the file
      abs_path = file_path.resolve()
      
      if not file_path.exists():
          invalid_files.append(f"{fasta_file}: File does not exist")
          continue
      
      if file_path.stat().st_size == 0:
          invalid_files.append(f"{fasta_file}: File is empty (0 bytes)")
          continue
      
      # Check if file contains actual sequence data
      has_sequence = False
      sequence_length = 0
      
      try:
          with open(fasta_file, 'r') as f:
              lines = f.readlines()
              for line in lines:
                  line = line.strip()
                  if line and not line.startswith('>'):
                      sequence_length += len(line)
                      has_sequence = True
          
          if not has_sequence or sequence_length == 0:
              invalid_files.append(f"{fasta_file}: No sequence data found")
          elif sequence_length < 1000:  # Minimum sequence length threshold
              invalid_files.append(f"{fasta_file}: Sequence too short ({sequence_length} bp)")
          else:
              # Store the absolute path so MASH can find the files
              valid_files.append(str(abs_path))
              
      except Exception as e:
          invalid_files.append(f"{fasta_file}: Error reading file - {str(e)}")
  
  # Write valid files list with absolute paths
  with open('valid_files.list', 'w') as f:
      for valid_file in valid_files:
          f.write(f"{valid_file}\n")
  
  # Write validation report
  with open('validation_report.txt', 'w') as f:
      f.write(f"FASTA Validation Report\n")
      f.write(f"======================\n")
      f.write(f"Total files processed: {total_files}\n")
      f.write(f"Valid files: {len(valid_files)}\n")
      f.write(f"Invalid files: {len(invalid_files)}\n\n")
      
      if valid_files:
          f.write("Valid files (with absolute paths):\n")
          for vf in valid_files:
              f.write(f"  ✓ {vf}\n")
          f.write("\n")
      
      if invalid_files:
          f.write("Invalid files (excluded from analysis):\n")
          for inf in invalid_files:
              f.write(f"  ✗ {inf}\n")
  
  print(f"Validation complete: {len(valid_files)} valid files out of {total_files} total files")
  if len(valid_files) < 3:
      print("WARNING: Less than 3 valid files found. PopPUNK requires at least 3 genomes.")
      exit(1)
  PY

Command exit status:
  127

Command output:
  (empty)

Command error:
  .command.sh: line 2: python: command not found

Work dir:
  /home/peerah/localpoppunk/work/ee/116778ad61054578954175ed76a9f4

Tip: you can replicate the issue by changing to the process work dir and entering the command `bash .command.run`
Jun-24 05:07:42.139 [TaskFinalizer-1] INFO  nextflow.Session - Execution cancelled -- Finishing pending tasks before exit
Jun-24 05:07:42.142 [main] DEBUG nextflow.Session - Session await > all processes finished
Jun-24 05:07:42.144 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
Jun-24 05:07:42.144 [main] DEBUG nextflow.Session - Session await > all barriers passed
Jun-24 05:07:42.147 [main] DEBUG nextflow.util.ThreadPoolManager - Thread pool 'TaskFinalizer' shutdown completed (hard=false)
Jun-24 05:07:42.155 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=2.4s; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=4; peakMemory=4 GB; ]
Jun-24 05:07:42.155 [main] DEBUG nextflow.trace.ReportObserver - Workflow completed -- rendering execution report
Jun-24 05:07:42.747 [main] DEBUG nextflow.trace.TimelineObserver - Workflow completed -- rendering execution timeline
Jun-24 05:07:42.950 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Jun-24 05:07:42.965 [main] DEBUG nextflow.util.ThreadPoolManager - Thread pool 'FileTransfer' shutdown completed (hard=false)
Jun-24 05:07:42.965 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
